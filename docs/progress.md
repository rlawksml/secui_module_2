# 개발 진행 상황 (Development Progress)

## 프로젝트 정보
- **프로젝트명**: Vampire Survivors-like Top-down Shooter
- **기술 스택**: Three.js + Vite
- **시작일**: 2026-02-02
- **현재 버전**: 0.1.0-alpha

---

## 전체 진행률
```
████████████░░░░░░░░ 60% (Phase 3/8 완료)
```

---

## Phase별 진행 상황

### ✅ Phase 1: 기본 구조 설정 (완료)
**완료일**: 2026-02-02

#### 완료된 작업
- ✅ Three.js + Vite 환경 설정
- ✅ package.json 구성 (의존성 추가)
- ✅ 프로젝트 파일 구조 생성
  - `src/entities/` - 게임 엔티티
  - `src/systems/` - 게임 시스템
  - `src/utils/` - 유틸리티 함수
- ✅ index.html 및 기본 UI 레이아웃
- ✅ vite.config.js 설정
- ✅ 게임 초기화 로직 (src/index.js)
- ✅ 메인 게임 루프 (src/game.js)

#### 주요 파일
- `index.html` - HUD 및 UI 컴포넌트
- `src/index.js` - 게임 진입점
- `src/game.js` - 게임 루프 및 상태 관리

---

### ✅ Phase 2: 핵심 엔티티 구현 (완료)
**완료일**: 2026-02-02

#### 완료된 작업
- ✅ **Player 클래스** (`src/entities/Player.js`)
  - 이동 시스템 (WASD/방향키)
  - 대각선 이동 정규화
  - 화면 경계 제한
  - 체력 시스템
  - 레벨 및 경험치 추적
  - 레벨업 보너스 (체력 회복, 속도 +5%, 데미지 +10%)

- ✅ **Enemy 클래스** (`src/entities/Enemy.js`)
  - 플레이어 추적 AI (단순 경로 탐색)
  - 체력 시스템
  - 경험치 드롭

- ✅ **Projectile 클래스** (`src/entities/Projectile.js`)
  - 타겟 방향 자동 계산
  - 관통 시스템 (1회 기본)
  - 최대 이동 거리 제한
  - 화면 밖 자동 제거

- ✅ **ExperienceOrb 클래스** (`src/entities/ExperienceOrb.js`)
  - 자석 효과 (300px 범위)
  - 수집 범위 (50px)
  - 떠오르는 애니메이션

#### 기술 세부사항
- Three.js `CircleGeometry`를 사용한 2D 스프라이트 렌더링
- `Vector3`를 활용한 위치 및 방향 계산

---

### ✅ Phase 3: 게임 시스템 구현 (완료)
**완료일**: 2026-02-02

#### 완료된 작업
- ✅ **SpawnSystem** (`src/systems/SpawnSystem.js`)
  - 기본 스폰율: 초당 2마리
  - 난이도 스케일링: 분당 20% 증가
  - 화면 밖 랜덤 스폰
  - 최대 동시 적 수: 200마리

- ✅ **CombatSystem** (`src/systems/CombatSystem.js`)
  - 자동 타겟팅 (가장 가까운 적)
  - 발사체 발사 (1회/초)
  - 발사체-적 충돌 감지
  - 플레이어-적 접촉 데미지 (10 HP/s)
  - 경험치 오브 수집

- ✅ **LevelSystem** (`src/systems/LevelSystem.js`)
  - 경험치 계산 공식: `10 * level^1.5`
  - 레벨업 처리

- ✅ **유틸리티 함수**
  - `src/utils/math.js` - 수학 함수들
  - `src/utils/collision.js` - 충돌 감지 알고리즘

#### 구현된 기능
- 자동 전투 시스템
- 적 스폰 및 난이도 증가
- 경험치 수집 및 레벨업

---

### 🔄 Phase 4: UI 및 게임 상태 (진행 중)
**시작일**: 2026-02-02 | **진행률**: 80%

#### 완료된 작업
- ✅ HUD 기본 구조
  - 체력바
  - 경험치바
  - 레벨 표시
  - 생존 타이머
  - 킬 카운터

- ✅ 게임 오버 화면
- ✅ 레벨업 알림

#### 진행 중인 작업
- 🔄 HUD 동적 업데이트 테스트
- 🔄 게임 상태 전환 개선

#### 다음 작업
- ⏳ 일시정지 기능
- ⏳ 설정 메뉴
- ⏳ 레벨업 선택 시스템

---

### ⏳ Phase 5: 성능 최적화 (예정)
**예상 시작일**: 2026-02-05

#### 계획된 작업
- ⏳ 오브젝트 풀링 구현
- ⏳ 공간 분할 충돌 감지 (쿼드트리/그리드)
- ⏳ 화면 밖 엔티티 컬링
- ⏳ 메모리 프로파일링

#### 목표
- 100+ 적, 50+ 발사체 동시 처리
- 안정적인 60 FPS 유지
- 메모리 사용량 < 100MB

---

### ⏳ Phase 6-8 (예정)
자세한 내용은 `plan.md` 참조

---

## 현재 알려진 이슈

### 🐛 버그
없음 (현재 알려진 버그 없음)

### ⚠️ 경고 사항
1. **성능 최적화 필요**: 적이 100개 이상일 때 FPS 드롭 가능
   - **해결 방안**: Phase 5에서 오브젝트 풀링 구현 예정

2. **충돌 감지 비효율**: 현재 전수 조사 방식
   - **해결 방안**: 공간 분할 구조 적용 예정

3. **메모리 누수 가능성**: 장시간 플레이 시 미검증
   - **해결 방안**: 프로파일링 및 테스트 필요

---

## 최근 커밋

### 2026-02-02
- ✅ 초기 프로젝트 구조 생성
- ✅ 모든 엔티티 클래스 구현
- ✅ 모든 게임 시스템 구현
- ✅ HUD 및 UI 구현

---

## 성능 메트릭

### 현재 성능 (미측정)
| 지표 | 목표 | 현재 | 상태 |
|------|------|------|------|
| FPS (100 적) | 60 | ? | ⏳ 미측정 |
| 메모리 사용량 | < 100MB | ? | ⏳ 미측정 |
| 초기 로딩 시간 | < 2s | ? | ⏳ 미측정 |

> **참고**: Phase 4 완료 후 성능 측정 예정

---

## 다음 마일스톤

### 단기 목표 (이번 주)
1. Phase 4 완료 - UI 및 게임 상태 개선
2. 기본 게임플레이 테스트
3. 버그 수정

### 중기 목표 (다음 주)
1. Phase 5 착수 - 성능 최적화
2. 오브젝트 풀링 구현
3. 성능 벤치마크 실행

### 장기 목표 (이번 달)
1. Phase 6 콘텐츠 확장
2. 추가 무기 및 적 타입
3. 파티클 효과 추가

---

## 팀 노트

### 배운 점
- Three.js의 `OrthographicCamera`가 2D 게임에 적합함
- `CircleGeometry`를 사용한 간단한 2D 스프라이트 렌더링
- 대각선 이동 정규화의 중요성

### 개선이 필요한 부분
- 충돌 감지 최적화 (현재 O(n²) 복잡도)
- 엔티티 생성/파괴 빈도가 높아 GC 압력 증가
- 코드 구조 리팩토링 (일부 시스템 간 결합도 높음)

### 다음 스프린트 계획
- UI/UX 개선에 집중
- 사용자 피드백 수집 (가능한 경우)
- 성능 최적화 준비

---

## 리소스 링크
- [개발 계획서](./plan.md)
- [기술 가이드](./CLAUDE.md)
- [Three.js 문서](https://threejs.org/docs/)
- [Vite 문서](https://vitejs.dev/)

---

**마지막 업데이트**: 2026-02-02
**다음 업데이트 예정일**: 2026-02-03
